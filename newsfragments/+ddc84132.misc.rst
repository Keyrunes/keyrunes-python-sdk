Add pre-commit with tests, lint and safety
